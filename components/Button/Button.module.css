/* Button component styles using design tokens */

/* ==========================================================================
   Base Button Styles
   ========================================================================== */

.button {
  /* Layout */
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--token-component-gap-button-icon-md);
  box-sizing: border-box;
  vertical-align: middle;

  /* Typography - default to medium size */
  font-family: var(--token-primitive-typography-font-family-sans);
  font-size: var(--token-component-font-size-button-md);
  font-weight: var(--token-component-font-weight-button);
  line-height: 1;
  letter-spacing: var(--token-primitive-typography-letter-spacing-button);
  text-transform: var(--token-component-text-transform-button);
  text-decoration: none;
  /* For link buttons */

  /* Spacing & Sizing - default to medium size */
  padding-left: var(--token-component-padding-left-button-md);
  padding-right: var(--token-component-padding-right-button-md);
  padding-top: 0;
  padding-bottom: 0;
  height: var(--token-component-height-button-md);
  min-width: auto;

  /* Border & Radius */
  border: 0;
  border-radius: calc(var(--token-component-radius-button-md) * 1px);

  /* Interactions */
  cursor: pointer;

  /* Transitions */
  transition:
    background-color var(--token-component-animation-field-duration)ms var(--token-component-animation-field-easing),
    color var(--token-component-animation-field-duration)ms var(--token-component-animation-field-easing),
    border-color var(--token-component-animation-field-duration)ms var(--token-component-animation-field-easing),
    outline var(--token-component-animation-field-duration)ms var(--token-component-animation-field-easing);

  /* Remove default focus outline - we'll use focus-visible */
  outline: none;
}

/* ==========================================================================
   Focus States (Keyboard Navigation)
   ========================================================================== */

/* Focus-visible: Only show focus ring when keyboard navigating (not mouse clicks) */
.button:focus-visible {
  outline: calc(var(--token-component-button-focus-outline-width) * 1px) solid var(--token-component-button-focus-outline-color);
  outline-offset: calc(var(--token-component-button-focus-outline-offset) * 1px);
}

/* Fallback for browsers that don't support :focus-visible */
.button:focus:not(:focus-visible) {
  outline: none;
}

/* ==========================================================================
   Button Modifiers
   ========================================================================== */

/* Full width button */
.button.fullWidth {
  width: 100%;
}

/* Icon-only button (square) */
.button.iconOnly {
  padding: 0;
  width: var(--token-component-height-button-md);
  min-width: var(--token-component-height-button-md);
  aspect-ratio: 1;
  display: inline-flex;
}

.button.iconOnly>* {
  width: var(--token-component-icon-button-md);
  height: var(--token-component-icon-button-md);
  font-size: var(--token-component-icon-button-md);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: inherit;
}

.button.iconOnly.sm {
  width: var(--token-component-height-button-sm);
  min-width: var(--token-component-height-button-sm);
}

.button.iconOnly.sm>* {
  width: var(--token-component-icon-button-sm);
  height: var(--token-component-icon-button-sm);
  font-size: var(--token-component-icon-button-sm);
}

.button.iconOnly.lg {
  width: var(--token-component-height-button-lg);
  min-width: var(--token-component-height-button-lg);
}

.button.iconOnly.lg>* {
  width: var(--token-component-icon-button-lg);
  height: var(--token-component-icon-button-lg);
  font-size: var(--token-component-icon-button-lg);
}

/* Icon-only plain buttons use plain button heights */
.button.iconOnly.plain.sm,
.button.iconOnly.primaryPlain.sm,
.button.iconOnly.secondaryPlain.sm,
.button.iconOnly.dangerPlain.sm,
.button.iconOnly.tertiaryPlain.sm,
.button.iconOnly.upgradePlain.sm {
  width: var(--token-component-height-button-plain-sm);
  min-width: var(--token-component-height-button-plain-sm);
  height: var(--token-component-height-button-plain-sm);
}

.button.iconOnly.plain.md,
.button.iconOnly.primaryPlain.md,
.button.iconOnly.secondaryPlain.md,
.button.iconOnly.dangerPlain.md,
.button.iconOnly.tertiaryPlain.md,
.button.iconOnly.upgradePlain.md {
  width: var(--token-component-height-button-plain-md);
  min-width: var(--token-component-height-button-plain-md);
  height: var(--token-component-height-button-plain-md);
}

.button.iconOnly.plain.lg,
.button.iconOnly.primaryPlain.lg,
.button.iconOnly.secondaryPlain.lg,
.button.iconOnly.dangerPlain.lg,
.button.iconOnly.tertiaryPlain.lg,
.button.iconOnly.upgradePlain.lg {
  width: var(--token-component-height-button-plain-lg);
  min-width: var(--token-component-height-button-plain-lg);
  height: var(--token-component-height-button-plain-lg);
}

/* ==========================================================================
   Button Content Elements
   ========================================================================== */

/* Icon containers */
.startIcon,
.endIcon {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  width: var(--token-component-icon-button-md);
  height: var(--token-component-icon-button-md);
  color: inherit;
  margin: 0;
}

/* Material Icons styling */
.startIcon .material-symbols-outlined,
.endIcon .material-symbols-outlined {
  font-size: var(--token-component-icon-button-md);
  width: 1em;
  height: 1em;
  display: block;
  line-height: 1;
  margin: 0;
  padding: 0;
  font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
}

/* Text element */
.text {
  display: flex;
  align-items: center;
  white-space: nowrap;
  color: inherit;
  line-height: 1;
  margin: 0;
  padding: 0;
  /* Optical adjustment for perfect centering */
  transform: translateY(var(--token-semantic-typography-visual-compensation-offset-1, 1px));
}

/* ==========================================================================
   Optical Padding Adjustments (when icons are present)
   ========================================================================== */

/* Optical padding adjustment when start icon is present */
.button:has(.startIcon) {
  padding-left: calc(var(--token-component-padding-left-button-md) - var(--token-component-padding-optical-button-icon));
}

/* Optical padding adjustment when end icon is present */
.button:has(.endIcon) {
  padding-right: calc(var(--token-component-padding-right-button-md) - var(--token-component-padding-optical-button-icon));
}

/* ==========================================================================
   Size Variants
   ========================================================================== */

.sm {
  padding-left: var(--token-component-padding-left-button-sm);
  padding-right: var(--token-component-padding-right-button-sm);
  padding-top: 0;
  padding-bottom: 0;
  height: var(--token-component-height-button-sm);
  min-width: auto;
  border-radius: calc(var(--token-component-radius-button-sm) * 1px);
  font-size: var(--token-component-font-size-button-sm);
  line-height: 1;
  gap: var(--token-component-gap-button-icon-sm);
  letter-spacing: var(--token-primitive-typography-letter-spacing-button);
}

/* Plain buttons use different height tokens */
.plain,
.primaryPlain,
.secondaryPlain,
.dangerPlain,
.tertiaryPlain,
.upgradePlain {
  /* Default to medium height for plain buttons */
  height: var(--token-component-height-button-plain-md);
}

.plain.sm,
.primaryPlain.sm,
.secondaryPlain.sm,
.dangerPlain.sm,
.tertiaryPlain.sm,
.upgradePlain.sm {
  height: var(--token-component-height-button-plain-sm);
}

.sm:has(.startIcon) {
  padding-left: calc(var(--token-component-padding-left-button-sm) - var(--token-component-padding-optical-button-icon));
}

.sm:has(.endIcon) {
  padding-right: calc(var(--token-component-padding-right-button-sm) - var(--token-component-padding-optical-button-icon));
}

.sm .startIcon,
.sm .endIcon {
  width: var(--token-component-icon-button-sm);
  height: var(--token-component-icon-button-sm);
  font-size: var(--token-component-icon-button-sm);
}

.sm .loadingSpinner {
  width: var(--token-component-icon-button-sm);
  height: var(--token-component-icon-button-sm);
}

.md {
  padding-left: var(--token-component-padding-left-button-md);
  padding-right: var(--token-component-padding-right-button-md);
  padding-top: 0;
  padding-bottom: 0;
  height: var(--token-component-height-button-md);
  min-width: auto;
  border-radius: calc(var(--token-component-radius-button-md) * 1px);
  font-size: var(--token-component-font-size-button-md);
  line-height: 1;
  gap: var(--token-component-gap-button-icon-md);
}

/* Plain buttons use different height tokens */
.plain.md,
.primaryPlain.md,
.secondaryPlain.md,
.dangerPlain.md,
.tertiaryPlain.md,
.upgradePlain.md {
  height: var(--token-component-height-button-plain-md);
}

.lg {
  padding-left: var(--token-component-padding-left-button-lg);
  padding-right: var(--token-component-padding-right-button-lg);
  padding-top: 0;
  padding-bottom: 0;
  height: var(--token-component-height-button-lg);
  min-width: auto;
  border-radius: calc(var(--token-component-radius-button-lg) * 1px);
  font-size: var(--token-component-font-size-button-lg);
  line-height: 1;
  gap: var(--token-component-gap-button-icon-lg);
  letter-spacing: var(--token-primitive-typography-letter-spacing-button-large);
}

/* Plain buttons use different height tokens */
.plain.lg,
.primaryPlain.lg,
.secondaryPlain.lg,
.dangerPlain.lg,
.tertiaryPlain.lg,
.upgradePlain.lg {
  height: var(--token-component-height-button-plain-lg);
}

.lg:has(.startIcon) {
  padding-left: calc(var(--token-component-padding-left-button-lg) - var(--token-component-padding-optical-button-icon));
}

.lg:has(.endIcon) {
  padding-right: calc(var(--token-component-padding-right-button-lg) - var(--token-component-padding-optical-button-icon));
}

.lg .startIcon,
.lg .endIcon {
  width: var(--token-component-icon-button-lg);
  height: var(--token-component-icon-button-lg);
  font-size: var(--token-component-icon-button-lg);
}

.lg .loadingSpinner {
  width: var(--token-component-icon-button-lg);
  height: var(--token-component-icon-button-lg);
}

/* ==========================================================================
   Loading State
   ========================================================================== */

.loadingSpinner {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: var(--token-component-icon-button-md);
  height: var(--token-component-icon-button-md);
}

.loadingSpinner .material-symbols-outlined {
  width: 100%;
  height: 100%;
  animation: spin var(--token-component-animation-field-duration)ms linear infinite;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}


.button.loading {
  pointer-events: none;
}

/* ==========================================================================
   Disabled State
   ========================================================================== */

.disabled,
.button:disabled {
  cursor: not-allowed;
  opacity: var(--token-semantic-opacity-disabled, 0.6);
}

/* ==========================================================================
   Variant Styles - Primary
   ========================================================================== */

.primary.filled,
.primaryFilled {
  background-color: var(--token-component-button-primary-filled-background-default);
  color: var(--token-component-button-primary-filled-content);
}

.primary.filled:hover:not(:disabled),
.primaryFilled:hover:not(:disabled) {
  background-color: var(--token-component-button-primary-filled-background-hover);
}

.primary.filled:active:not(:disabled),
.primaryFilled:active:not(:disabled) {
  background-color: var(--token-component-button-primary-filled-background-pressed);
}

.primary.filled:disabled,
.primaryFilled:disabled {
  background-color: var(--token-component-button-primary-filled-background-disabled);
}

.primary.plain,
.primaryPlain {
  background-color: var(--token-component-button-primary-plain-background-default);
  color: var(--token-component-button-primary-plain-content-default);
}

.primary.plain:hover:not(:disabled),
.primaryPlain:hover:not(:disabled) {
  background-color: var(--token-semantic-background-active-accent-subtle-hover);
  color: var(--token-component-button-primary-plain-content-hover);
}

.primary.plain:active:not(:disabled),
.primaryPlain:active:not(:disabled) {
  background-color: var(--token-semantic-background-active-accent-subtle-pressed);
  color: var(--token-component-button-primary-plain-content-pressed);
}

.primary.plain:disabled,
.primaryPlain:disabled {
  background-color: var(--token-component-button-primary-plain-background-disabled);
  color: var(--token-component-button-primary-plain-content-disabled);
}

/* ==========================================================================
   Variant Styles - Secondary
   ========================================================================== */

.secondary.outline,
.secondaryOutline {
  background-color: transparent;
  color: var(--token-component-button-secondary-outline-content-default);
  border-width: calc(var(--token-semantic-border-width-thin) * 1px);
  border-style: solid;
  border-color: var(--token-component-button-secondary-outline-border-default);
}

.secondary.outline:hover:not(:disabled),
.secondaryOutline:hover:not(:disabled) {
  background-color: var(--token-semantic-background-active-accent-subtle-hover);
  color: var(--token-component-button-secondary-outline-content-hover);
  border-color: var(--token-component-button-secondary-outline-border-hover);
}

.secondary.outline:active:not(:disabled),
.secondaryOutline:active:not(:disabled) {
  background-color: var(--token-semantic-background-active-accent-subtle-pressed);
  border-color: var(--token-component-button-secondary-outline-border-pressed);
  color: var(--token-component-button-secondary-outline-content-pressed);
}

.secondary.outline:disabled,
.secondaryOutline:disabled {
  border-color: var(--token-component-button-secondary-outline-border-disabled);
  color: var(--token-component-button-secondary-outline-content-disabled);
}

.secondary.plain,
.secondaryPlain {
  background-color: var(--token-component-button-secondary-plain-background-default);
  color: var(--token-component-button-secondary-plain-content-default);
}

.secondary.plain:hover:not(:disabled),
.secondaryPlain:hover:not(:disabled) {
  background-color: var(--token-semantic-background-active-neutral-subtle-hover);
  color: var(--token-component-button-secondary-plain-content-hover);
}

.secondary.plain:active:not(:disabled),
.secondaryPlain:active:not(:disabled) {
  background-color: var(--token-semantic-background-active-neutral-subtle-pressed);
  color: var(--token-component-button-secondary-plain-content-pressed);
}

.secondary.plain:disabled,
.secondaryPlain:disabled {
  color: var(--token-component-button-secondary-plain-content-disabled);
}

/* ==========================================================================
   Variant Styles - Danger
   ========================================================================== */

.danger.filled,
.dangerFilled {
  background-color: var(--token-component-button-danger-filled-background-default);
  color: var(--token-component-button-danger-filled-content);
}

.danger.filled:hover:not(:disabled),
.dangerFilled:hover:not(:disabled) {
  background-color: var(--token-component-button-danger-filled-background-hover);
}

.danger.filled:active:not(:disabled),
.dangerFilled:active:not(:disabled) {
  background-color: var(--token-component-button-danger-filled-background-pressed);
}

.danger.plain,
.dangerPlain {
  background-color: var(--token-component-button-danger-plain-background-default);
  color: var(--token-component-button-danger-plain-content-default);
}

.danger.plain:hover:not(:disabled),
.dangerPlain:hover:not(:disabled) {
  background-color: var(--token-component-button-danger-plain-background-hover);
  color: var(--token-component-button-danger-plain-content-hover);
}

.danger.plain:active:not(:disabled),
.dangerPlain:active:not(:disabled) {
  color: var(--token-component-button-danger-plain-content-pressed);
}

.danger.plain:disabled,
.dangerPlain:disabled {
  background-color: var(--token-component-button-danger-plain-background-disabled);
  color: var(--token-component-button-danger-plain-content-disabled);
}

/* ==========================================================================
   Variant Styles - Tertiary
   ========================================================================== */

.tertiary.outline,
.tertiaryOutline {
  background-color: transparent;
  color: var(--token-component-button-tertiary-outline-content-default);
  border-width: calc(var(--token-semantic-border-width-thin) * 1px);
  border-style: solid;
  border-color: var(--token-component-button-tertiary-outline-border-default);
}

.tertiary.outline:hover:not(:disabled),
.tertiaryOutline:hover:not(:disabled) {
  background-color: var(--token-component-button-tertiary-outline-background-hover);
  color: var(--token-component-button-tertiary-outline-content-hover);
  border-color: var(--token-component-button-tertiary-outline-border-hover);
}

.tertiary.outline:active:not(:disabled),
.tertiaryOutline:active:not(:disabled) {
  border-color: var(--token-component-button-tertiary-outline-border-pressed);
  color: var(--token-component-button-tertiary-outline-content-pressed);
}

.tertiary.outline:disabled,
.tertiaryOutline:disabled {
  border-color: var(--token-component-button-tertiary-outline-border-disabled);
  color: var(--token-component-button-tertiary-outline-content-disabled);
}

.tertiary.plain,
.tertiaryPlain {
  background-color: var(--token-component-button-tertiary-plain-background-default);
  color: var(--token-component-button-tertiary-plain-content-default);
}

.tertiary.plain:hover:not(:disabled),
.tertiaryPlain:hover:not(:disabled) {
  background-color: var(--token-semantic-background-active-neutral-subtle-hover);
  color: var(--token-component-button-tertiary-plain-content-hover);
}

.tertiary.plain:active:not(:disabled),
.tertiaryPlain:active:not(:disabled) {
  background-color: var(--token-semantic-background-active-neutral-subtle-pressed);
  color: var(--token-component-button-tertiary-plain-content-pressed);
}

.tertiary.plain:disabled,
.tertiaryPlain:disabled {
  background-color: var(--token-component-button-tertiary-plain-background-disabled);
  color: var(--token-component-button-tertiary-plain-content-disabled);
}

/* ==========================================================================
   Variant Styles - Upgrade
   ========================================================================== */

.upgrade.filled,
.upgradeFilled {
  background-color: var(--token-component-button-upgrade-filled-background-default);
  color: var(--token-component-button-upgrade-filled-content);
}

.upgrade.filled:hover:not(:disabled),
.upgradeFilled:hover:not(:disabled) {
  background-color: var(--token-component-button-upgrade-filled-background-hover);
}

.upgrade.filled:active:not(:disabled),
.upgradeFilled:active:not(:disabled) {
  background-color: var(--token-component-button-upgrade-filled-background-pressed);
}

.upgrade.plain,
.upgradePlain {
  background-color: var(--token-component-button-upgrade-plain-background-default);
  color: var(--token-component-button-upgrade-plain-content-default);
}

.upgrade.plain:hover:not(:disabled),
.upgradePlain:hover:not(:disabled) {
  background-color: var(--token-component-button-upgrade-plain-background-hover);
  color: var(--token-component-button-upgrade-plain-content-hover);
}

.upgrade.plain:active:not(:disabled),
.upgradePlain:active:not(:disabled) {
  color: var(--token-component-button-upgrade-plain-content-pressed);
}

.upgrade.plain:disabled,
.upgradePlain:disabled {
  background-color: var(--token-component-button-upgrade-plain-background-disabled);
  color: var(--token-component-button-upgrade-plain-content-disabled);
}